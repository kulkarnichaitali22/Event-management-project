{"ast":null,"code":"import _slicedToArray from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useEffect,useState}from'react';import axios from\"axios\";import{url}from'../common/constants';import{Link}from'react-router-dom';import{AiOutlineMenu}from\"react-icons/ai\";import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();// import employeeService from '../services/employee.service';\nvar ViewEventManager=function ViewEventManager(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var role=localStorage.getItem('role');var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),forassign=_useState4[0],setForAssign=_useState4[1];var token=JSON.parse(localStorage.getItem(\"jwttoken\"));var init=function init(){var token=JSON.parse(localStorage.getItem(\"jwttoken\"));console.log(token);console.log(role);if(role==\"MANAGER\"){console.log(\"manager\");setForAssign(\"EMPLOYEES\");}if(role==\"ADMIN\"){console.log(\"admin\");setForAssign(\"MANAGERS\");}axios.get(url+\"/regevents\",{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Printing Event data',Response.data);setEvents(Response.data);}).catch(function(error){console.log('Something went wrong',error);});};var Handledone=function Handledone(event){toast.info(\"Updating Event Status...\");axios.put(url+\"/eventinfo\",event,{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Printing Menu data',Response.data);toast.success(\"Event Status Updated...\");init();}).catch(function(error){console.log('Something went wrong',error);toast.error(\"Unable to Update Event Status...\");});};useEffect(function(){init();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"forms-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 text-white my-5\",children:[/*#__PURE__*/_jsx(\"div\",{colSpan:\"2\",className:\"fw-bold p-3 display-6\",children:\"Event Details\"}),events.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 pt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white text-black p-3 mt-5 h1\",children:\"No Event Assigned Yet\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"accordion\",id:\"accordionExample\",children:events.map(function(event){return/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-item m-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"accordion-header\",id:\"headingOne\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"accordion-button collapsed accordian-back\",to:\"\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"aria-expanded\":\"false\",\"data-bs-target\":\"#collapse\"+event.id,\"aria-controls\":\"collapse\"+event.id,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"col-md-5\",children:event.name}),/*#__PURE__*/_jsx(\"h5\",{className:\"col-md-2 d-flex justify-content-center align-items-center\",children:event.status}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 d-flex justify-content-end align-items-end text-white btn-group dropstart\",children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-toggle text-white\",type:\"button\",id:\"dropdownMenuButton2\",to:\"\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(AiOutlineMenu,{className:\"h3\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-dark\",\"aria-labelledby\":\"dropdownMenuButton2\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",value:\"Waiting For Approval\",onClick:function onClick(e){event.status=e.target.value;Handledone(event);},children:\"Waiting For Approval\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",value:\"Waiting For Payment\",onClick:function onClick(e){event.status=e.target.value;Handledone(event);},children:\"Waiting For Payment\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",value:\"Approved\",onClick:function onClick(e){event.status=e.target.value;Handledone(event);},children:\"Approved\"})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{id:\"collapse\"+event.id,className:\"accordion-collapse collapse bg-black\",\"aria-labelledby\":\"headingOne\",\"data-bs-parent\":\"#accordionExample\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-body\",id:\"fordownload\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black py-2 px-2 border border-2 border-white\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-start p-3\",children:\"Basic Details : \"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"table\",{className:\"col-10 table-bordered text-white\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Event Name: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Event Type: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Event Date: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Guest Count:\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.type})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.date})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.guestCount})})]})]})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-start p-3\",children:\"Venue Details : \"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"table\",{className:\"col-10 table-bordered text-starttext-white\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Name: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Capacity: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Category: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Contact: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Cost: \"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedVenue.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedVenue.maxCapacity})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedVenue.category})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedVenue.contact})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedVenue.cost})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",colSpan:5,children:\"-\"})}),/*#__PURE__*/_jsx(\"tr\",{}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",colSpan:2,children:/*#__PURE__*/_jsx(\"h4\",{children:\"Address: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",colSpan:3,children:/*#__PURE__*/_jsx(\"h4\",{children:\"Description: \"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedVenue.address})}),/*#__PURE__*/_jsx(\"td\",{colSpan:3,children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedVenue.description})})]}),/*#__PURE__*/_jsx(\"tr\",{}),/*#__PURE__*/_jsx(\"tr\",{})]})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-start p-3\",children:\"Food Menu List : \"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"table\",{className:\"col-10 table-bordered text-starttext-white\",children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:event.menus.map(function(menu){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h4\",{className:\"text-start px-3\",children:[menu.menuName,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-secondary\",children:[\"(Price: \",menu.price,\"/person)\"]})]})},menu.id);})})})})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-start p-3\",children:\"Media Details : \"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"table\",{className:\"col-10 table-bordered text-starttext-white\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Photography: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Videography: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Album: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Drone Shoot: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Crane Shoot: \"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.photography?\"Yes\":\"No\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.videography?\"Yes\":\"No\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.album?\"Yes\":\"No\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.drone?\"Yes\":\"No\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.crane?\"Yes\":\"No\"})})]})]})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-start p-3\",children:\"Caterer Details : \"}),event.bookedCater?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"table\",{className:\"col-10 table-bordered text-starttext-white\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Caterer Name: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Contact Number: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Speciality: \"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedCater.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedCater.contactNumber})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.bookedCater.speciality})})]})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"h3\",children:\"Please Assign any Cateter\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-start p-3\",children:\"Studio Details : \"}),event.studio?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"table\",{className:\"col-10 table-bordered text-starttext-white\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Studio Name: \"})}),/*#__PURE__*/_jsx(\"td\",{className:\"bg-white text-black\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Contact Number: \"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.studio.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{children:event.studio.contact})})]})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"h3\",children:\"Please Assign any Studio\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-l bg-info text-black mx-1\",to:\"/updateevent/\".concat(event.id),children:\"Update\"}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-l bg-info text-black mx-1\",to:\"/assignemployee/\".concat(event.id),children:[\"assign \",forassign]}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-l bg-info text-black mx-1 w-25\",to:\"/viewassignemployee/\".concat(event.id),children:[\"view assigned \",forassign]}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-l bg-info text-black mx-1\",to:\"/assigncaters/\".concat(event.id),children:\"assign Caterers\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-l bg-info text-black mx-1\",to:\"/assignstudio/\".concat(event.id),children:\"assign Studio\"})]})]}),/*#__PURE__*/_jsx(\"br\",{})]})})]},event.id);})})]})});};export default ViewEventManager;","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/Employee/viewEventManager.js"],"names":["useEffect","useState","axios","url","Link","AiOutlineMenu","toast","configure","ViewEventManager","events","setEvents","role","localStorage","getItem","forassign","setForAssign","token","JSON","parse","init","console","log","get","headers","then","Response","data","catch","error","Handledone","event","info","put","success","length","map","id","name","status","e","target","value","type","date","guestCount","bookedVenue","maxCapacity","category","contact","cost","address","description","menus","menu","menuName","price","photography","videography","album","drone","crane","bookedCater","contactNumber","speciality","studio"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { url } from '../common/constants';\nimport { Link } from 'react-router-dom';\nimport { AiOutlineMenu } from \"react-icons/ai\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure();\n// import employeeService from '../services/employee.service';\n\nconst ViewEventManager = () => {\n\n    const [events, setEvents] = useState([]);\n    const role = localStorage.getItem('role');\n    const [forassign, setForAssign] = useState(\"\");\n    const token = JSON.parse(localStorage.getItem(\"jwttoken\"));\n\n    const init = () => {\n        const token = JSON.parse(localStorage.getItem(\"jwttoken\"));\n        console.log(token);\n        console.log(role)\n        if (role == \"MANAGER\") {\n            console.log(\"manager\")\n            setForAssign(\"EMPLOYEES\");\n        }\n        if (role == \"ADMIN\") {\n            console.log(\"admin\")\n            setForAssign(\"MANAGERS\");\n        }\n\n        axios.get(url + \"/regevents\", { headers: { \"authorization\": `Bearer ${token}` } })\n            .then(Response => {\n                console.log('Printing Event data', Response.data);\n                setEvents(Response.data);\n\n            })\n            .catch(error => {\n                console.log('Something went wrong', error);\n            })\n    }\n\n\n    const Handledone = (event) => {\n        toast.info(\"Updating Event Status...\");\n        axios.put(url + \"/eventinfo\", event, { headers: { \"authorization\": `Bearer ${token}` } })\n            .then(Response => {\n                console.log('Printing Menu data', Response.data);\n                toast.success(\"Event Status Updated...\");\n                init();\n            })\n            .catch(error => {\n                console.log('Something went wrong', error);\n                toast.error(\"Unable to Update Event Status...\");\n            });\n    }\n\n    useEffect(() => {\n        init();\n\n    }, []);\n\n\n    return (\n\n        <div className=\"forms-container\">\n            <div className=\"py-5 text-white my-5\">\n                <div colSpan=\"2\" className=\"fw-bold p-3 display-6\">\n                    Event Details\n                </div>\n                {/* \"#collapseOne\" */}\n                {(events.length === 0) ? <div className='mt-5 pt-5'><div className=\"bg-white text-black p-3 mt-5 h1\">No Event Assigned Yet</div></div> :\n                    <div className=\"accordion\" id=\"accordionExample\">\n                        {events.map((event) => (\n                            <div className=\"accordion-item m-3\" key={event.id}>\n                                <h2 className=\"accordion-header\" id=\"headingOne\">\n                                    <button className=\"accordion-button collapsed accordian-back\" to=\"\" type=\"button\" data-bs-toggle=\"collapse\" aria-expanded=\"false\" data-bs-target={\"#collapse\" + event.id} aria-controls={\"collapse\" + event.id}>\n                                        <h4 className=\"col-md-5\">{event.name}</h4>\n                                        <h5 className=\"col-md-2 d-flex justify-content-center align-items-center\">{event.status}</h5>\n\n                                        <div className=\"col-md-4 d-flex justify-content-end align-items-end text-white btn-group dropstart\">\n\n                                            <Link className=\"dropdown-toggle text-white\"\n                                                type=\"button\"\n                                                id=\"dropdownMenuButton2\"\n                                                to=\"\"\n                                                data-bs-toggle=\"dropdown\"\n\n                                                aria-expanded=\"false\">\n                                                <AiOutlineMenu className=\"h3\" />\n                                            </Link>\n                                            <ul className=\"dropdown-menu dropdown-menu-dark\" aria-labelledby=\"dropdownMenuButton2\">\n                                                <li><button className=\"dropdown-item\" value=\"Waiting For Approval\" onClick={(e) => { event.status = e.target.value; Handledone(event) }}>Waiting For Approval</button></li>\n                                                <li><button className=\"dropdown-item\" value=\"Waiting For Payment\" onClick={(e) => { event.status = e.target.value; Handledone(event) }}>Waiting For Payment</button></li>\n                                                <li><button className=\"dropdown-item\" value=\"Approved\" onClick={(e) => { event.status = e.target.value; Handledone(event) }}>Approved</button></li>\n\n                                            </ul>\n                                        </div>\n                                    </button>\n                                </h2>\n\n                                <div id={\"collapse\" + event.id} className=\"accordion-collapse collapse bg-black\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n                                    <div className=\"accordion-body\" id=\"fordownload\">\n                                        <div className=\"bg-black py-2 px-2 border border-2 border-white\"  >\n                                            {/* <div className=\"event__box py-2 px-2 border border-2 border-white\"> */}\n                                            <h3 className=\"text-start p-3\">Basic Details : </h3>\n                                            <div className=\"d-flex justify-content-center\">\n                                                <table className=\"col-10 table-bordered text-white\"><tbody>\n                                                    <tr>\n                                                        <td className=\"bg-white text-black\"><h4 >Event Name: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4 >Event Type: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4 >Event Date: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4 >Guest Count:</h4></td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td><h4>{event.name}</h4></td>\n                                                        <td><h4>{event.type}</h4></td>\n                                                        <td><h4>{event.date}</h4></td>\n                                                        <td><h4>{event.guestCount}</h4></td>\n                                                    </tr>\n                                                </tbody></table>\n\n                                            </div>\n                                            <h3 className=\"text-start p-3\">Venue Details : </h3>\n                                            <div className=\"d-flex justify-content-center\">\n                                                <table className=\"col-10 table-bordered text-starttext-white\"><tbody>\n                                                    <tr>\n                                                        <td className=\"bg-white text-black\"><h4>Name: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Capacity: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Category: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Contact: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Cost: </h4></td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td><h4>{event.bookedVenue.name}</h4></td>\n                                                        <td><h4>{event.bookedVenue.maxCapacity}</h4></td>\n                                                        <td><h4>{event.bookedVenue.category}</h4></td>\n                                                        <td><h4>{event.bookedVenue.contact}</h4></td>\n                                                        <td><h4>{event.bookedVenue.cost}</h4></td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td className='text-black' colSpan={5}>-</td>\n                                                    </tr>\n                                                    <tr>\n                                                    </tr>\n                                                    <tr>\n                                                        <td className=\"bg-white text-black\" colSpan={2}><h4>Address: </h4></td>\n                                                        <td className=\"bg-white text-black\" colSpan={3}><h4>Description: </h4></td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td colSpan={2}><h4>{event.bookedVenue.address}</h4></td>\n                                                        <td colSpan={3}><h4>{event.bookedVenue.description}</h4></td>\n                                                    </tr>\n                                                    <tr>\n                                                    </tr>\n                                                    <tr>\n                                                    </tr>\n                                                </tbody></table>\n                                            </div>\n\n                                            <h3 className=\"text-start p-3\">Food Menu List : </h3>\n                                            <div className=\"d-flex justify-content-center\">\n                                                <table className=\"col-10 table-bordered text-starttext-white\"><tbody>\n                                                    <tr><td>\n                                                        {event.menus.map((menu) => (\n                                                            <div key={menu.id}>\n                                                                <h4 className=\"text-start px-3\">{menu.menuName} <span className=\"text-secondary\">(Price: {menu.price}/person)</span></h4>\n                                                            </div>\n                                                        ))}\n                                                    </td></tr>\n                                                </tbody></table>\n                                            </div>\n                                            <h3 className=\"text-start p-3\">Media Details : </h3>\n                                            <div className=\"d-flex justify-content-center\">\n                                                <table className=\"col-10 table-bordered text-starttext-white\"><tbody>\n                                                    <tr><td className=\"bg-white text-black\"><h4>Photography: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Videography: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Album: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Drone Shoot: </h4></td>\n                                                        <td className=\"bg-white text-black\"><h4>Crane Shoot: </h4></td>\n                                                    </tr>\n\n\n                                                    <tr>\n                                                        <td><h4>{event.photography ? \"Yes\" : \"No\"}</h4></td>\n                                                        <td><h4>{event.videography ? \"Yes\" : \"No\"}</h4></td>\n                                                        <td><h4>{event.album ? \"Yes\" : \"No\"}</h4></td>\n                                                        <td><h4>{event.drone ? \"Yes\" : \"No\"}</h4></td>\n                                                        <td><h4>{event.crane ? \"Yes\" : \"No\"}</h4></td>\n                                                    </tr>\n                                                </tbody></table>\n                                            </div>\n\n                                            <h3 className=\"text-start p-3\">Caterer Details : </h3>\n                                            {event.bookedCater ?\n                                                <div className=\"d-flex justify-content-center\">\n                                                    <table className=\"col-10 table-bordered text-starttext-white\"><tbody>\n                                                        <tr><td className=\"bg-white text-black\"><h4>Caterer Name: </h4></td>\n                                                            <td className=\"bg-white text-black\"><h4>Contact Number: </h4></td>\n                                                            <td className=\"bg-white text-black\"><h4>Speciality: </h4></td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td><h4>{event.bookedCater.name}</h4></td>\n                                                            <td><h4>{event.bookedCater.contactNumber}</h4></td>\n                                                            <td><h4>{event.bookedCater.speciality}</h4></td>\n                                                        </tr>\n                                                    </tbody></table>\n                                                </div> : <div className=\"h3\">Please Assign any Cateter</div>}\n\n                                            <h3 className=\"text-start p-3\">Studio Details : </h3>\n                                            {event.studio ?\n                                                <div className=\"d-flex justify-content-center\">\n                                                    <table className=\"col-10 table-bordered text-starttext-white\"><tbody>\n                                                        <tr><td className=\"bg-white text-black\"><h4>Studio Name: </h4></td>\n                                                            <td className=\"bg-white text-black\"><h4>Contact Number: </h4></td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td><h4>{event.studio.name}</h4></td>\n                                                            <td><h4>{event.studio.contact}</h4></td>\n                                                        </tr>\n                                                    </tbody></table>\n                                                </div> : <div className=\"h3\">Please Assign any Studio</div>}\n                                            {/* \n                                        <select name=\"status\" id=\"status\" className=\"input-fields-mod\" defaultValue={event.status} onChange={(e) => { event.status = e.target.value; Handledone(event) }}>\n                                            <option value=\"Waiting For Approval\">Waiting For Approval</option>\n                                            <option value=\"Waiting For Payment\">Waiting For Payment</option>\n                                            <option value=\"Approved\">Approved</option>\n                                        </select> */}\n                                            <div className=\"mt-4\">\n                                                <Link className=\"btn btn-l bg-info text-black mx-1\" to={`/updateevent/${event.id}`}>Update</Link>\n                                                <Link className=\"btn btn-l bg-info text-black mx-1\" to={`/assignemployee/${event.id}`}>assign {forassign}</Link>\n                                                <Link className=\"btn btn-l bg-info text-black mx-1 w-25\" to={`/viewassignemployee/${event.id}`}>view assigned {forassign}</Link>\n                                                <Link className=\"btn btn-l bg-info text-black mx-1\" to={`/assigncaters/${event.id}`}>assign Caterers</Link>\n                                                <Link className=\"btn btn-l bg-info text-black mx-1\" to={`/assignstudio/${event.id}`}>assign Studio</Link>\n                                            </div>\n                                        </div>\n                                        <br></br>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>}\n            </div>\n        </div>\n    );\n}\n\nexport default ViewEventManager;\n"]},"metadata":{},"sourceType":"module"}