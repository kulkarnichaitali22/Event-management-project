{"ast":null,"code":"import _slicedToArray from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useEffect,useState}from'react';import axios from\"axios\";import{url}from'../common/constants';import{Link,useParams}from'react-router-dom';import Swal from'sweetalert2';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var AssignEmployee=function AssignEmployee(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Employee=_useState2[0],setEmployee=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Emp=_useState4[0],setEmp=_useState4[1];var _useParams=useParams(),id=_useParams.id;var token=JSON.parse(localStorage.getItem(\"jwttoken\"));var role=localStorage.getItem(\"role\");useEffect(function(){init();},[]);var AssignEmp=function AssignEmp(emp){toast.info(\"Assigning Employee, Please wait for a while.....\");axios.put(url+\"/assignemployee/\"+id,emp,{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Employee Assigned Successfully');Swal.fire(' Employee Assigned Successfully','','success');}).catch(function(error){console.log('Something went wrong',error);Swal.fire({icon:'error',title:'Unable to Assign Employee',text:'',footer:''});});};var init=function init(){axios.get(url+\"/allemployees/M\"+role).then(function(Response){console.log('Printing Employee data',Response.data);setEmployee(Response.data);}).catch(function(error){console.log('Something went wrong',error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"forms-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 text-white my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold pt-5 display-6\",children:\"Employees\"}),/*#__PURE__*/_jsx(\"div\",{className:\"py-3 list-items\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"col-12 table-bordered text-start text-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white text-black text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\" px-3\",children:\"Id\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Role\"})}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Employee.map(function(emp){return/*#__PURE__*/_jsxs(\"tr\",{className:\"event__box py-2 px-2\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.id})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.email})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.role})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-l\",onClick:function onClick(){return AssignEmp(emp);},children:\"ASSIGN\"})})]},emp.id);})})]})})]})});};export default AssignEmployee;","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/Employee/AssignEmployee.js"],"names":["useEffect","useState","axios","url","Link","useParams","Swal","toast","configure","AssignEmployee","Employee","setEmployee","Emp","setEmp","id","token","JSON","parse","localStorage","getItem","role","init","AssignEmp","emp","info","put","headers","then","Response","console","log","fire","catch","error","icon","title","text","footer","get","data","map","name","email"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { url } from '../common/constants';\nimport { Link,useParams } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure();\n\n\nconst AssignEmployee = () => {\n    const [Employee, setEmployee] = useState([]);\n    const [Emp, setEmp] = useState('');\n    const {id} = useParams()\n    const token=JSON.parse(localStorage.getItem(\"jwttoken\"));\n    const role = localStorage.getItem(\"role\");\n  \n\n    useEffect(() => {\n        init();\n    }, []);\n    \n\n    const AssignEmp=(emp)=>{\n        toast.info(\"Assigning Employee, Please wait for a while.....\");\n        axios.put(url+\"/assignemployee/\"+id,emp,{headers:{\"authorization\":`Bearer ${token}`}}).then(Response => {\n            console.log('Employee Assigned Successfully');\n            Swal.fire(\n                ' Employee Assigned Successfully',\n                '',\n                'success'\n              )\n          })\n          .catch(error => {\n            console.log('Something went wrong', error);\n            Swal.fire({\n                icon: 'error',\n                title: 'Unable to Assign Employee',\n                text: '',\n                footer: ''\n              })\n          }) \n    }\n\n\n    const init = () => {\n        axios.get(url + \"/allemployees/M\"+role)\n            .then(Response => {\n                console.log('Printing Employee data', Response.data);\n                setEmployee(Response.data);\n            })\n            .catch(error => {\n                console.log('Something went wrong', error);\n            })\n    };\n\n    return (\n\n        <div className=\"forms-container\">\n            <div className=\"py-5 text-white my-5\">\n                <div  className=\"fw-bold pt-5 display-6\">\n                    Employees\n                </div>\n                <div className=\"py-3 list-items\">\n                    <table className=\"col-12 table-bordered text-start text-white\">\n                        <thead>\n                            <tr className='bg-white text-black text-center'>\n                                <th>\n                                    <h4 className=\" px-3\">Id</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Name</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Email</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Role</h4>\n                                </th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n\n                            {Employee.map((emp) => (\n                                <tr key={emp.id} className=\"event__box py-2 px-2\">\n                                    <td><h4 className=\"text-start px-3\">{emp.id}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.name}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.email}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.role}</h4></td>\n                                    {/* <td><button className='btn-l float-md-right' onClick={() => { HandleRemove(emp.id) }}>Remove Employee</button></td> */}\n                                    <td className='text-center'>\n                                        {/* <button className='btn-l' data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" onClick={() => setEmp(emp)}>Unassign Employee</button> */}\n                                        <button className='btn-l' onClick={()=>AssignEmp(emp)}>ASSIGN</button>\n                                    </td> \n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AssignEmployee;\n"]},"metadata":{},"sourceType":"module"}