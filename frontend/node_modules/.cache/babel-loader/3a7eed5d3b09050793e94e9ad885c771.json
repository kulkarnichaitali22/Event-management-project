{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\");\n\nvar _classCallCheck = require(\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\classCallCheck.js\").default;\n\nvar _createClass = require(\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\createClass.js\").default;\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar Razorpay = /*#__PURE__*/function () {\n  function Razorpay(options) {\n    _classCallCheck(this, Razorpay);\n\n    this.options = options;\n    this.rzrpayInstannce = new window.Razorpay(this.options);\n  }\n\n  _createClass(Razorpay, [{\n    key: \"on\",\n    value: function on(event, callback) {\n      this.rzrpayInstannce.on(event, callback);\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      this.rzrpayInstannce.open();\n    }\n  }]);\n\n  return Razorpay;\n}();\n\nvar useRazorpay = function useRazorpay() {\n  /* Constants */\n  var RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n  var checkScriptLoaded = (0, react_1.useCallback)(function () {\n    if (!(\"Razorpay\" in window)) return false;\n    return true;\n  }, []);\n  var loadScript = (0, react_1.useCallback)(function (scriptUrl) {\n    return new Promise(function (resolve, reject) {\n      var scriptTag = document.createElement(\"script\");\n      scriptTag.src = scriptUrl;\n\n      scriptTag.onload = function (ev) {\n        return resolve(ev);\n      };\n\n      scriptTag.onerror = function (err) {\n        return reject(err);\n      };\n\n      document.body.appendChild(scriptTag);\n    });\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (!checkScriptLoaded()) {\n      (function () {\n        return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return loadScript(RAZORPAY_SCRIPT);\n\n                case 3:\n                  _context.next = 8;\n                  break;\n\n                case 5:\n                  _context.prev = 5;\n                  _context.t0 = _context[\"catch\"](0);\n                  throw new Error(_context.t0);\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[0, 5]]);\n        }));\n      })();\n    }\n  }, []);\n  return Razorpay;\n};\n\nexports.default = useRazorpay;","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;IAsBM,Q;AAIJ,oBAAY,OAAZ,EAAoC;AAAA;;AAClC,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,eAAL,GAAuB,IAAK,MAAc,CAAC,QAApB,CAA6B,KAAK,OAAlC,CAAvB;AACD;;;;WAEM,YAAG,KAAH,EAAkB,QAAlB,EAAoC;AACzC,WAAK,eAAL,CAAqB,EAArB,CAAwB,KAAxB,EAA+B,QAA/B;AACD;;;WAEM,gBAAI;AACT,WAAK,eAAL,CAAqB,IAArB;AACD;;;;;;AAGH,IAAM,WAAW,GAAG,SAAd,WAAc,GAAK;AACvB;AACA,MAAM,eAAe,GAAG,8CAAxB;AAEA,MAAM,iBAAiB,GAAkB,CAAA,GAAA,OAAA,CAAA,WAAA,EAAY,YAAK;AACxD,QAAI,EAAE,cAAc,MAAhB,CAAJ,EAA6B,OAAO,KAAP;AAC7B,WAAO,IAAP;AACD,GAHwC,EAGtC,EAHsC,CAAzC;AAKA,MAAM,UAAU,GAAG,CAAA,GAAA,OAAA,CAAA,WAAA,EAAY,UAAC,SAAD,EAAsB;AACnD,WAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAoB;AACrC,UAAM,SAAS,GAAG,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAlB;AACA,MAAA,SAAS,CAAC,GAAV,GAAgB,SAAhB;;AACA,MAAA,SAAS,CAAC,MAAV,GAAmB,UAAC,EAAD;AAAA,eAAQ,OAAO,CAAC,EAAD,CAAf;AAAA,OAAnB;;AACA,MAAA,SAAS,CAAC,OAAV,GAAoB,UAAC,GAAD;AAAA,eAAS,MAAM,CAAC,GAAD,CAAf;AAAA,OAApB;;AACA,MAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,SAA1B;AACD,KANM,CAAP;AAOD,GARkB,EAQhB,EARgB,CAAnB;AAUA,GAAA,GAAA,OAAA,CAAA,SAAA,EAAU,YAAK;AACb,QAAI,CAAC,iBAAiB,EAAtB,EAA0B;AACxB,OAAC;AAAA,eAAW,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAER,yBAAM,UAAU,CAAC,eAAD,CAAhB;;AAFQ;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,wBAIF,IAAI,KAAJ,aAJE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA,EAAX;AAAA,OAAD;AAOD;AACF,GAVD,EAUG,EAVH;AAYA,SAAO,QAAP;AACD,CAhCD;;AAkCA,OAAA,CAAA,OAAA,GAAe,WAAf","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nclass Razorpay {\n    constructor(options) {\n        this.options = options;\n        this.rzrpayInstannce = new window.Razorpay(this.options);\n    }\n    on(event, callback) {\n        this.rzrpayInstannce.on(event, callback);\n    }\n    open() {\n        this.rzrpayInstannce.open();\n    }\n}\nconst useRazorpay = () => {\n    /* Constants */\n    const RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n    const checkScriptLoaded = (0, react_1.useCallback)(() => {\n        if (!(\"Razorpay\" in window))\n            return false;\n        return true;\n    }, []);\n    const loadScript = (0, react_1.useCallback)((scriptUrl) => {\n        return new Promise((resolve, reject) => {\n            const scriptTag = document.createElement(\"script\");\n            scriptTag.src = scriptUrl;\n            scriptTag.onload = (ev) => resolve(ev);\n            scriptTag.onerror = (err) => reject(err);\n            document.body.appendChild(scriptTag);\n        });\n    }, []);\n    (0, react_1.useEffect)(() => {\n        if (!checkScriptLoaded()) {\n            (() => __awaiter(void 0, void 0, void 0, function* () {\n                try {\n                    yield loadScript(RAZORPAY_SCRIPT);\n                }\n                catch (error) {\n                    throw new Error(error);\n                }\n            }))();\n        }\n    }, []);\n    return Razorpay;\n};\nexports.default = useRazorpay;\n"]},"metadata":{},"sourceType":"script"}