{"ast":null,"code":"import _slicedToArray from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{url}from\"../common/constants\";import{Link}from\"react-router-dom\";import{AiOutlineMenu}from\"react-icons/ai\";import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";toast.configure();var EmployeeWelcome=function EmployeeWelcome(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setstatus=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),uname=_useState6[0],setUname=_useState6[1];var init=function init(){var token=JSON.parse(localStorage.getItem(\"jwttoken\"));axios.get(url+\"/asigntasks\",{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Printing Task Data',Response.data);setTasks(Response.data);}).catch(function(error){console.log('Something went wrong',error);});axios.get(url+\"/nameaccess\",{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Printing User name',Response.data);setUname(Response.data);}).catch(function(error){console.log(uname);console.log('Something went wrong',error);});};var Handledone=function Handledone(t){axios.put(url+\"/updatetask\",t).then(function(Response){console.log('Updated Task Data',Response.data);toast.success(\"Task Status Updated Successfully\");init();}).catch(function(error){console.log('Something went wrong',error);});};useEffect(function(){init();},[]);return/*#__PURE__*/ (// <div className=\" position-absolute top-50 start-50 translate-middle h-100 w-100\">\n_jsx(\"div\",{className:\"forms-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4 text-white my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{colSpan:\"2\",className:\"fw-bold p-3 display-6\",children:[\"Welcome, \",uname]}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-l btn-warning my-3 w-50\",to:\"/customer/viewevent\",children:\"View Assigned Events\"}),tasks.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 pt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white text-black p-3 mt-5 h1\",children:\"No Task Assigned Yet\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:tasks.map(function(task){return/*#__PURE__*/_jsx(\"div\",{className:\"py-5 px-4 h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"services__box py-5 px-2 h-100 border border-2 border-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mx-5 d-flex justify-content-end align-items-end text-white btn-group dropstart\",children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-toggle text-white\",type:\"button\",id:\"dropdownMenuButton2\",to:\"\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(AiOutlineMenu,{className:\"h1\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-dark\",\"aria-labelledby\":\"dropdownMenuButton2\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",value:\"Not Yet Started\",onClick:function onClick(e){task.status=e.target.value;Handledone(task);},children:\"Not Yet Started\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",value:\"In Progress\",onClick:function onClick(e){task.status=e.target.value;Handledone(task);},children:\"In Progress\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",value:\"Completed\",onClick:function onClick(e){task.status=e.target.value;Handledone(task);},children:\"Completed\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"py-3 h1\",children:task.todo}),/*#__PURE__*/_jsx(\"div\",{className:\" fs-2\",children:task.status})]})},task.id);})})]})}));};export default EmployeeWelcome;","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/Employee/EmployeeWelcome.js"],"names":["React","useState","useEffect","axios","url","Link","AiOutlineMenu","toast","configure","EmployeeWelcome","status","setstatus","tasks","setTasks","uname","setUname","init","token","JSON","parse","localStorage","getItem","get","headers","then","Response","console","log","data","catch","error","Handledone","t","put","success","length","map","task","e","target","value","todo","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { url } from \"../common/constants\";\nimport { Link } from \"react-router-dom\";\nimport { AiOutlineMenu } from \"react-icons/ai\";\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure();\n\nconst EmployeeWelcome = () => {\n  const [status, setstatus] = useState(\"\")\n  const [tasks, setTasks] = useState([]);\n  const [uname, setUname] = useState();\n\n  const init = () => {\n    const token = JSON.parse(localStorage.getItem(\"jwttoken\"));\n    axios.get(url + \"/asigntasks\", { headers: { \"authorization\": `Bearer ${token}` } }).then(Response => {\n      console.log('Printing Task Data', Response.data);\n      setTasks(Response.data);\n    })\n      .catch(error => {\n        console.log('Something went wrong', error);\n      })\n\n    axios.get(url + \"/nameaccess\", { headers: { \"authorization\": `Bearer ${token}` } })\n      .then(Response => {\n        console.log('Printing User name', Response.data);\n        setUname(Response.data);\n      })\n      .catch(error => {\n\n        console.log(uname)\n        console.log('Something went wrong', error);\n      })\n\n  }\n\n  const Handledone = (t) => {\n    axios.put(url + \"/updatetask\", t).then(Response => {\n      console.log('Updated Task Data', Response.data);\n      toast.success(\"Task Status Updated Successfully\");\n      init();\n    })\n      .catch(error => {\n        console.log('Something went wrong', error);\n      });\n  }\n\n  useEffect(() => {\n    init();\n  }, [])\n  return (\n    // <div className=\" position-absolute top-50 start-50 translate-middle h-100 w-100\">\n    <div className=\"forms-container\">\n      <div className=\"container py-4 text-white my-5\">\n        <div colSpan=\"2\" className=\"fw-bold p-3 display-6\">\n          Welcome, {uname}\n        </div>\n        <Link className='btn btn-l btn-warning my-3 w-50' to={\"/customer/viewevent\"}>View Assigned Events</Link>\n        {(tasks.length === 0) ? <div className='mt-5 pt-5'><div className=\"bg-white text-black p-3 mt-5 h1\">No Task Assigned Yet</div></div> :\n          <div className=\"row\">\n            {tasks.map((task) => (\n              <div className=\"py-5 px-4 h-100\" key={task.id}>\n                <div className=\"services__box py-5 px-2 h-100 border border-2 border-white\">\n                  <div className=\"mx-5 d-flex justify-content-end align-items-end text-white btn-group dropstart\">\n\n                    <Link className=\"dropdown-toggle text-white\"\n                      type=\"button\"\n                      id=\"dropdownMenuButton2\"\n                      to=\"\"\n                      data-bs-toggle=\"dropdown\"\n\n                      aria-expanded=\"false\">\n                      <AiOutlineMenu className=\"h1\" />\n                    </Link>\n                    <ul className=\"dropdown-menu dropdown-menu-dark\" aria-labelledby=\"dropdownMenuButton2\">\n                      <li><button className=\"dropdown-item\" value=\"Not Yet Started\" onClick={(e) => { task.status = e.target.value; Handledone(task) }}>Not Yet Started</button></li>\n                      <li><button className=\"dropdown-item\" value=\"In Progress\" onClick={(e) => { task.status = e.target.value; Handledone(task) }}>In Progress</button></li>\n                      <li><button className=\"dropdown-item\" value=\"Completed\" onClick={(e) => { task.status = e.target.value; Handledone(task) }}>Completed</button></li>\n                    </ul>\n                  </div>\n                  <div className=\"py-3 h1\">{task.todo}</div>\n                  <div className=\" fs-2\">{task.status}</div>\n                  \n                  \n                  {/* <div><p className=\"py-5 fs-2\">{task.status}</p></div> */}\n                </div>\n              </div>\n\n            ))}\n          </div>}\n      </div>\n    </div>\n  );\n};\n\nexport default EmployeeWelcome;\n"]},"metadata":{},"sourceType":"module"}