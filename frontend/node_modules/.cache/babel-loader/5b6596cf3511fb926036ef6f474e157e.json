{"ast":null,"code":"import _slicedToArray from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{url}from\"../common/constants\";import{useParams}from\"react-router-dom\";import Swal from\"sweetalert2\";import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var AssignTask=function AssignTask(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),todo=_useState4[0],settodo=_useState4[1];var token=JSON.parse(localStorage.getItem(\"jwttoken\"));var _useParams=useParams(),id=_useParams.id;var HandleDelete=function HandleDelete(id){axios.delete(\"\".concat(url,\"/deletetask/\").concat(id)).then(function(Response){console.log('Task Terminated Successfully',Response.data);Swal.fire(' Task Terminated Successfully','','success');init();}).catch(function(error){console.log('Something went wrong',error);});};var init=function init(){axios.get(url+\"/assigntasks/\"+id).then(function(Response){console.log('Printing Task Data',Response.data);setTasks(Response.data);}).catch(function(error){console.log('Something went wrong',error);});};var HandleAssign=function HandleAssign(){var task1={todo:todo};console.log(todo);toast.info(\"Assigning Tasks, Please wait for a while.....\");axios.post(url+\"/assign/\"+id,task1,{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Task Assigned Successfully',Response.data);Swal.fire(' Task Assigned Successfully','','success');settodo(' ');init();}).catch(function(error){console.log('Something went wrong',error);Swal.fire({icon:'error',title:'Unable to Assign Task',text:'',footer:''});});};useEffect(function(){init();},[]);return/*#__PURE__*/ (// <div className=\" position-absolute top-50 start-50 translate-middle h-100 w-100\">\n_jsx(\"div\",{className:\"forms-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4 text-white my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{colSpan:\"2\",className:\"fw-bold p-3 display-6\",children:\"Assign Task\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"Textarea\",rows:\"3\",value:todo,onChange:function onChange(e){settodo(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-l mb-5\",onClick:HandleAssign,children:\"ASSIGN\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container align-items-center w-50 bg-danger pt-1 rounded\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{colSpan:\"2\",className:\"fw-bold h2 mb-4\",children:\"All Assigned Tasks\"}),tasks.map(function(task){return/*#__PURE__*/_jsx(\"div\",{className:\"mb-5 px-4 h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"services__box px-2 h-100 border border-2 border-white\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"py-3 h2\",children:task.todo})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\" fs-2\",children:task.status})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-l mb-3\",onClick:function onClick(){return HandleDelete(task.id);},children:\"Terminate task\"})]})},task.id);})]})]})}));};export default AssignTask;","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/Employee/AssignTask.js"],"names":["React","useState","useEffect","axios","url","useParams","Swal","toast","configure","AssignTask","tasks","setTasks","todo","settodo","token","JSON","parse","localStorage","getItem","id","HandleDelete","delete","then","Response","console","log","data","fire","init","catch","error","get","HandleAssign","task1","info","post","headers","icon","title","text","footer","e","target","value","map","task","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { url } from \"../common/constants\";\nimport { useParams } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure();\n\nconst AssignTask = () => {\n  const [tasks, setTasks] = useState([]);\n  const [todo, settodo] = useState(\"\");\n  const token = JSON.parse(localStorage.getItem(\"jwttoken\"));\n  const { id } = useParams();\n\n  const HandleDelete = (id) => {\n    axios.delete(`${url}/deletetask/${id}`).then(Response => {\n      console.log('Task Terminated Successfully', Response.data);\n      Swal.fire(\n        ' Task Terminated Successfully',\n        '',\n        'success'\n      )\n      init();\n    })\n      .catch(error => {\n        console.log('Something went wrong', error);\n      });\n  }\n  \n  const init = () => {\n    axios.get(url + \"/assigntasks/\" + id).then(Response => {\n      console.log('Printing Task Data', Response.data);\n      setTasks(Response.data);\n     \n      })\n      .catch(error => {\n        console.log('Something went wrong', error);\n    })     \n  }\n\n  const HandleAssign = () => {\n    const task1={todo}\n    console.log(todo);\n    toast.info(\"Assigning Tasks, Please wait for a while.....\");\n    axios.post(url+\"/assign/\"+id,task1, { headers: { \"authorization\": `Bearer ${token}` } }).then(Response => {\n      console.log('Task Assigned Successfully', Response.data);\n      Swal.fire(\n        ' Task Assigned Successfully',\n        '',\n        'success'\n        )\n        settodo(' ');\n      init();\n    })\n    .catch(error => {\n      console.log('Something went wrong', error);\n      Swal.fire({\n        icon: 'error',\n        title: 'Unable to Assign Task',\n        text: '',\n        footer: ''\n      })\n    })\n    \n  }\n  useEffect(() => {\n    init();\n  },[]);\n\n  return (\n    // <div className=\" position-absolute top-50 start-50 translate-middle h-100 w-100\">\n    <div className=\"forms-container\">\n      <div className=\"container py-4 text-white my-5\">\n        <div className=\"row\">\n          <div className=\"py-5 mb-3\">\n          <div colSpan=\"2\" className=\"fw-bold p-3 display-6\">\n                    Assign Task\n                </div>\n            <textarea className=\"form-control\"  id=\"Textarea\" rows=\"3\" value={todo} onChange={(e) => { settodo(e.target.value) }}></textarea>\n            <button type=\"button\" className=\"btn btn-l mb-5\"  onClick={HandleAssign}  >ASSIGN</button>\n        <div className=\"container align-items-center w-50 bg-danger pt-1 rounded\"></div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div colSpan=\"2\" className=\"fw-bold h2 mb-4\">\n                    All Assigned Tasks\n                </div>\n          {tasks.map((task) => (\n            <div className=\"mb-5 px-4 h-100\" key={task.id}>\n              <div className=\"services__box px-2 h-100 border border-2 border-white\">\n                <div><p className=\"py-3 h2\">{task.todo}</p></div>\n                <div><p className=\" fs-2\">{task.status}</p></div>\n                <button className=\"btn btn-l mb-3\" onClick={()=>HandleDelete(task.id)}>Terminate task</button>\n              </div>\n            </div>\n\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AssignTask;\n"]},"metadata":{},"sourceType":"module"}