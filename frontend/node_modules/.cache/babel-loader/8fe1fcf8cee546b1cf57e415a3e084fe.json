{"ast":null,"code":"import _objectSpread from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _objectWithoutProperties from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectWithoutProperties.js\";var _excluded=[\"component\"];// import React, { useEffect, useState} from 'react';\n// import { Route, Redirect } from 'react-router-dom'\n// import { useSelector } from \"react-redux\";\n// const PrivateRoute = ({ component: Component, ...rest }) => {\n//   const auth = useSelector(state => state.auth)\n//   const [isAuthenticated, setIsAuthenticated] = useState(null)  \n//   useEffect(() => {\n//     let token = localStorage.getItem('jwttoken')\n//         if(token){\n//                 setIsAuthenticated(true)\n//         } else {\n//            setIsAuthenticated(false)\n//         }\n//     // eslint-disable-next-line\n//   }, [auth])\n//   if(isAuthenticated === null){\n//     return <></>\n//   }\n//   return (\n//     <Route {...rest} render={props =>\n//       !isAuthenticated ? (\n//         <Redirect to='/login'/>\n//       ) : (\n//         <Component {...props} />\n//       )\n//     }\n//     />\n//   );\n// };\n// export default PrivateRoute;\nimport React from\"react\";import{Route,Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ProtectedRoute=function ProtectedRoute(_ref){var Component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){var token=localStorage.getItem('jwttoken');console.log(token);if(token){return/*#__PURE__*/_jsx(Component,_objectSpread({},props));}else{return/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/\",state:{from:props.location}}});}}}));};","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/common/ProtectedRoute.js"],"names":["React","Route","Redirect","ProtectedRoute","Component","component","rest","props","token","localStorage","getItem","console","log","pathname","state","from","location"],"mappings":"6SAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,C,2CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAsC,IAAxBC,CAAAA,SAAwB,MAAnCC,SAAmC,CAAVC,IAAU,0CAClE,mBACE,KAAC,KAAD,gCACIA,IADJ,MAEE,MAAM,CAAE,gBAACC,KAAD,CAAW,CAEjB,GAAIC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ,CACAC,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACA,GAAIA,KAAJ,CAAW,CACT,mBAAO,KAAC,SAAD,kBAAeD,KAAf,EAAP,CACD,CAFD,IAEO,CACL,mBACE,KAAC,QAAD,EACE,EAAE,CAAE,CACFM,QAAQ,CAAE,GADR,CAEFC,KAAK,CAAE,CACLC,IAAI,CAAER,KAAK,CAACS,QADP,CAFL,CADN,EADF,CAUD,CACF,CApBH,GADF,CAwBD,CAzBM","sourcesContent":["// import React, { useEffect, useState} from 'react';\n// import { Route, Redirect } from 'react-router-dom'\n// import { useSelector } from \"react-redux\";\n\n// const PrivateRoute = ({ component: Component, ...rest }) => {\n//   const auth = useSelector(state => state.auth)\n//   const [isAuthenticated, setIsAuthenticated] = useState(null)  \n//   useEffect(() => {\n//     let token = localStorage.getItem('jwttoken')\n//         if(token){\n            \n//                 setIsAuthenticated(true)\n            \n//         } else {\n//            setIsAuthenticated(false)\n//         }\n//     // eslint-disable-next-line\n//   }, [auth])\n\n//   if(isAuthenticated === null){\n//     return <></>\n//   }\n\n//   return (\n//     <Route {...rest} render={props =>\n//       !isAuthenticated ? (\n//         <Redirect to='/login'/>\n//       ) : (\n//         <Component {...props} />\n//       )\n//     }\n//     />\n//   );\n// };\n\n// export default PrivateRoute;\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const ProtectedRoute = ({ component: Component, ...rest}) => {\n  return (\n    <Route\n    {...rest}\n      render={(props) => {\n       \n        let token = localStorage.getItem('jwttoken')\n        console.log(token);\n        if (token) {\n          return <Component {...props} />;\n        } else {\n          return (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: {\n                  from: props.location\n                }\n              }}\n            />\n          );\n        }\n      }}\n    />\n  );\n};\n"]},"metadata":{},"sourceType":"module"}