{"ast":null,"code":"import _slicedToArray from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useEffect,useState}from'react';import axios from\"axios\";import{url}from'../common/constants';import{Link}from'react-router-dom';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var ViewEmployee=function ViewEmployee(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Employee=_useState2[0],setEmployee=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),Id=_useState4[0],setId=_useState4[1];var role=localStorage.getItem(\"role\");useEffect(function(){init();},[]);var HandleRemove=function HandleRemove(id){console.log(\"id is\"+id);axios.delete(url+\"/deleteemployee/\"+id).then(function(Response){console.log('delete Employee successfully');toast.success(\"Employee Removed Successfully\");init();}).catch(function(error){console.log('Something went wrong',error);toast.error(\"Unable to Remove Employee\");});};var init=function init(){axios.get(url+\"/allemployees/\"+role).then(function(Response){console.log('Printing Employee data',Response.data);setEmployee(Response.data);}).catch(function(error){console.log('Something went wrong',error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"forms-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 text-white my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold pt-5 display-6\",children:\"Employees\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-l w-50 mt-4\",to:\"/regemployee\",children:\"register new Employee\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-3 list-items\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"col-12 table-bordered text-start text-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white text-black text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\" px-3\",children:\"Id\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Role\"})}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Employee.map(function(emp){return/*#__PURE__*/_jsxs(\"tr\",{className:\"event__box py-2 px-2\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.id})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.email})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.role})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn-l\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",onClick:function onClick(){return setId(emp.id);},children:[\"REMOVE \",emp.role]})})]},emp.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade text-black\",id:\"exampleModal\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Warning\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body text-start\",children:\"Are you Sure, you want to fire this Employee?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary \",onClick:function onClick(){HandleRemove(Id);},\"data-bs-dismiss\":\"modal\",children:\"Yes\"})]})]})})})]})]})});};export default ViewEmployee;","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/Employee/ViewEmployee.js"],"names":["useEffect","useState","axios","url","Link","toast","configure","ViewEmployee","Employee","setEmployee","Id","setId","role","localStorage","getItem","init","HandleRemove","id","console","log","delete","then","Response","success","catch","error","get","data","map","emp","name","email"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { url } from '../common/constants';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure();\n\nconst ViewEmployee = () => {\n    const [Employee, setEmployee] = useState([]);\n    const [Id, setId] = useState();\n    const role = localStorage.getItem(\"role\");\n\n    useEffect(() => {\n        init();\n    }, []);\n\n    const HandleRemove = (id) => {\n        console.log(\"id is\" + id);\n        axios.delete(url + \"/deleteemployee/\" + id).then(Response => {\n            console.log('delete Employee successfully');\n            toast.success(\"Employee Removed Successfully\");\n            init();\n        })\n            .catch(error => {\n                console.log('Something went wrong', error);\n                toast.error(\"Unable to Remove Employee\");\n            })\n    }\n\n\n\n    const init = () => {\n\n        axios.get(url + \"/allemployees/\" + role)\n            .then(Response => {\n                console.log('Printing Employee data', Response.data);\n                setEmployee(Response.data);\n            })\n            .catch(error => {\n                console.log('Something went wrong', error);\n            })\n    };\n\n    return (\n\n        <div className=\"forms-container\">\n            <div className=\"py-5 text-white my-5\">\n                <div className=\"fw-bold pt-5 display-6\">\n                    Employees\n                </div>\n                <Link className='btn btn-l w-50 mt-4' to='/regemployee' >register new Employee</Link>\n                <div className=\"py-3 list-items\">\n                    <table className=\"col-12 table-bordered text-start text-white\">\n                        <thead>\n                            <tr className='bg-white text-black text-center'>\n                                <th>\n                                    <h4 className=\" px-3\">Id</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Name</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Email</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Role</h4>\n                                </th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n\n                            {Employee.map((emp) => (\n                                <tr key={emp.id} className=\"event__box py-2 px-2\">\n                                    <td><h4 className=\"text-start px-3\">{emp.id}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.name}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.email}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.role}</h4></td>\n                                    {/* <td><button className='btn-l float-md-right' onClick={() => { HandleRemove(emp.id) }}>Remove Employee</button></td> */}\n                                    <td className='text-center'>\n                                        <button className='btn-l' data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" onClick={() => setId(emp.id)}>REMOVE {emp.role}</button>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n\n                    {/* Remove Employee Popup div */}\n                    <div className=\"modal fade text-black\" id=\"exampleModal\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                        <div className=\"modal-dialog\">\n                            <div className=\"modal-content\">\n                                <div className=\"modal-header\">\n                                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Warning</h5>\n                                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                                </div>\n                                <div className=\"modal-body text-start\">\n                                    Are you Sure, you want to fire this Employee?\n                                </div>\n                                <div className=\"modal-footer\">\n                                    <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                                    <button type=\"button\" className=\"btn btn-primary \" onClick={() => { HandleRemove(Id) }} data-bs-dismiss=\"modal\">Yes</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ViewEmployee;\n"]},"metadata":{},"sourceType":"module"}