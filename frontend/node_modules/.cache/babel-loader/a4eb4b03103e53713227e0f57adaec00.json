{"ast":null,"code":"import _slicedToArray from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useEffect,useState}from'react';import axios from\"axios\";import{url}from'../common/constants';import{Link,useParams}from'react-router-dom';import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewAssignEmployee=function ViewAssignEmployee(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Employee=_useState2[0],setEmployee=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Emp=_useState4[0],setEmp=_useState4[1];var _useParams=useParams(),id=_useParams.id;var token=JSON.parse(localStorage.getItem(\"jwttoken\"));var role=localStorage.getItem(\"role\");var HandleRemove=function HandleRemove(Emp){console.log(\"id is\"+id);axios.put(url+\"/unassignemployee/\"+id,Emp,{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Employee UnAssigned Successfully');Swal.fire(' Employee UnAssigned Successfully','','success');init();}).catch(function(error){console.log('Something went wrong',error);Swal.fire({icon:'error',title:'Unable to UnAssign Employee',text:'',footer:''});});};var AssignEmp=function AssignEmp(emp){axios.put(url+\"/assignemployee/\"+id,emp,{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('assign Employee successfully');}).catch(function(error){console.log('Something went wrong',error);});};var init=function init(){if(role==\"MANAGER\"){axios.get(url+\"/assignemployees/\"+id).then(function(Response){console.log('Printing Employee data',Response.data);setEmployee(Response.data);}).catch(function(error){console.log('Something went wrong',error);});}if(role==\"ADMIN\"){axios.get(url+\"/assignmanagers/\"+id).then(function(Response){console.log('Printing Manager data',Response.data);setEmployee(Response.data);}).catch(function(error){console.log('Something went wrong',error);});}};useEffect(function(){init();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"forms-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 text-white my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold pt-5 display-6\",children:\"Employees\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-3 list-items\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"col-12 table-bordered text-start text-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white text-black text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\" px-3\",children:\"Id\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"px-3\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Employee.map(function(emp){return/*#__PURE__*/_jsxs(\"tr\",{className:\"event__box py-2 px-2\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.id})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-start px-3\",children:emp.email})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-l mx-2\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",onClick:function onClick(){return setEmp(emp);},children:\"Unassign\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-l\",to:\"/assigntask/\".concat(emp.id),children:\"ASSIGN Task\"})]})]},emp.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade text-black\",id:\"exampleModal\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Warning\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body text-start\",children:\"Are you Sure, you want to fire this Employee?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary \",onClick:function onClick(){HandleRemove(Emp);},\"data-bs-dismiss\":\"modal\",children:\"Yes\"})]})]})})})]})]})});};export default ViewAssignEmployee;","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/Employee/ViewAssignEmployee.js"],"names":["useEffect","useState","axios","url","Link","useParams","Swal","ViewAssignEmployee","Employee","setEmployee","Emp","setEmp","id","token","JSON","parse","localStorage","getItem","role","HandleRemove","console","log","put","headers","then","Response","fire","init","catch","error","icon","title","text","footer","AssignEmp","emp","get","data","map","name","email"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { url } from '../common/constants';\nimport { Link,useParams } from 'react-router-dom';\nimport Swal from 'sweetalert2';\n\n\nconst ViewAssignEmployee = () => {\n    const [Employee, setEmployee] = useState([]);\n    const [Emp, setEmp] = useState('');\n    const {id} = useParams()\n    const token=JSON.parse(localStorage.getItem(\"jwttoken\"));\n    const role=localStorage.getItem(\"role\");\n  \n\n    const HandleRemove = (Emp) => {\n        console.log(\"id is\" + id);\n        axios.put(url + \"/unassignemployee/\" + id,Emp,{headers:{\"authorization\":`Bearer ${token}`}}).then(Response => {\n            console.log('Employee UnAssigned Successfully');\n            Swal.fire(\n                ' Employee UnAssigned Successfully',\n                '',\n                'success'\n              )\n            init();\n        })\n            .catch(error => {\n                console.log('Something went wrong', error);\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Unable to UnAssign Employee',\n                    text: '',\n                    footer: ''\n                  })\n            })\n    }\n    \n    const AssignEmp=(emp)=>{\n        axios.put(url+\"/assignemployee/\"+id,emp,{headers:{\"authorization\":`Bearer ${token}`}}).then(Response => {\n            console.log('assign Employee successfully',);\n          })\n          .catch(error => {\n            console.log('Something went wrong', error);\n          }) \n    }\n\n    \n    const init = () => {\n        if (role == \"MANAGER\") {\n        axios.get(url + \"/assignemployees/\"+id)\n        .then(Response => {\n            console.log('Printing Employee data', Response.data);\n                setEmployee(Response.data);\n            })\n            .catch(error => {\n                console.log('Something went wrong', error);\n            })\n        }\n        if (role == \"ADMIN\") {\n            axios.get(url + \"/assignmanagers/\"+id)\n            .then(Response => {\n                console.log('Printing Manager data', Response.data);\n                    setEmployee(Response.data);\n                })\n                .catch(error => {\n                    console.log('Something went wrong', error);\n                })\n            }\n        };\n        useEffect(() => {\n            init();\n        }, []);\n\n    return (\n\n        <div className=\"forms-container\">\n            <div className=\"py-5 text-white my-5\">\n                <div  className=\"fw-bold pt-5 display-6\">\n                    Employees\n                </div>\n                <div className=\"py-3 list-items\">\n                    <table className=\"col-12 table-bordered text-start text-white\">\n                        <thead>\n                            <tr className='bg-white text-black text-center'>\n                                <th>\n                                    <h4 className=\" px-3\">Id</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Name</h4>\n                                </th>\n                                <th>\n                                    <h4 className=\"px-3\">Email</h4>\n                                </th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n\n                            {Employee.map((emp) => (\n                                <tr key={emp.id} className=\"event__box py-2 px-2\">\n                                    <td><h4 className=\"text-start px-3\">{emp.id}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.name}</h4></td>\n                                    <td><h4 className=\"text-start px-3\">{emp.email}</h4></td>\n                                    {/* <td><button className='btn-l float-md-right' onClick={() => { HandleRemove(emp.id) }}>Remove Employee</button></td> */}\n                                    <td className='text-center'>\n                                        <button className='btn-l mx-2' data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" onClick={() => setEmp(emp)}>Unassign</button>\n                                        <Link className='btn btn-l' to={`/assigntask/${emp.id}`}>ASSIGN Task</Link>\n                                    </td> \n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n\n                    {/* Remove Employee Popup div */}\n                    <div className=\"modal fade text-black\" id=\"exampleModal\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                        <div className=\"modal-dialog\">\n                            <div className=\"modal-content\">\n                                <div className=\"modal-header\">\n                                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Warning</h5>\n                                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                                </div>\n                                <div className=\"modal-body text-start\">\n                                    Are you Sure, you want to fire this Employee?\n                                </div>\n                                <div className=\"modal-footer\">\n                                    <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                                    <button type=\"button\" className=\"btn btn-primary \" onClick={() => { HandleRemove(Emp) }} data-bs-dismiss=\"modal\">Yes</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ViewAssignEmployee;\n"]},"metadata":{},"sourceType":"module"}