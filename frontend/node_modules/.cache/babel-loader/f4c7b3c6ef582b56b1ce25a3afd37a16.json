{"ast":null,"code":"import _slicedToArray from\"A:\\\\CDAC-EMS-Project-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{Link}from\"react-router-dom\";import logo from\"../../images/whitelogoevent-removebg-preview.png\";import React,{useEffect,useState}from'react';import axios from\"axios\";import{url}from'../common/constants';import{FaUserCircle}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NavSignOut=function NavSignOut(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),uname=_useState2[0],setUname=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var role=localStorage.getItem(\"role\");var init=function init(){var token=JSON.parse(localStorage.getItem(\"jwttoken\"));axios.get(url+\"/nameaccess\",{headers:{\"authorization\":\"Bearer \".concat(token)}}).then(function(Response){console.log('Printing User name',Response.data);setUname(Response.data);if(role==\"ADMIN\"){setRedirect(\"/admin/welcome\");}if(role==\"MANAGER\"){setRedirect(\"/manager/welcome\");}if(role==\"EMPLOYEE\"){setRedirect(\"/employee/welcome\");}if(role==\"CUSTOMER\"){setRedirect(\"/customer/welcome\");}}).catch(function(error){console.log(uname);console.log('Something went wrong',error);});};useEffect(function(){init();},[]);var handlesignOut=function handlesignOut(){localStorage.clear();};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar fixed-top navbar-expand-lg navbar-dark bg-black py-3 px-5 fs-5 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"not found\",width:\"100\",height:\"40\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:redirect,children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/services\",children:\"Services\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/packages\",children:\"Packages\"})}),uname?/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsxs(Link,{className:\"nav-link dropdown-toggle\",to:\"/\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaUserCircle,{}),\"  \"]}),uname]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/profile\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/\",onClick:handlesignOut,children:\"Sign Out\"})})]})]}):/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/customer\",onClick:handlesignOut,children:\"Sign In\"})})]})})]})})});};export default NavSignOut;","map":{"version":3,"sources":["A:/CDAC-EMS-Project-main/frontend/src/component/login/NavSignOut.js"],"names":["Link","logo","React","useEffect","useState","axios","url","FaUserCircle","NavSignOut","uname","setUname","redirect","setRedirect","role","localStorage","getItem","init","token","JSON","parse","get","headers","then","Response","console","log","data","catch","error","handlesignOut","clear"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\nimport logo from \"../../images/whitelogoevent-removebg-preview.png\";\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { url } from '../common/constants';\nimport { FaUserCircle} from \"react-icons/fa\";\n\nconst NavSignOut = () => {\n\n  const [uname, setUname] = useState();\n  const [redirect, setRedirect] = useState(\"\");\n  const role = localStorage.getItem(\"role\");\n\n  const init = () => {\n    const token = JSON.parse(localStorage.getItem(\"jwttoken\"));\n    axios.get(url + \"/nameaccess\", { headers: { \"authorization\": `Bearer ${token}` } })\n      .then(Response => {\n        console.log('Printing User name', Response.data);\n        setUname(Response.data);\n        if(role==\"ADMIN\"){\n          setRedirect(\"/admin/welcome\");\n        }\n        if(role==\"MANAGER\"){\n          setRedirect(\"/manager/welcome\");\n        }\n        if(role==\"EMPLOYEE\"){\n          setRedirect(\"/employee/welcome\");\n        }\n        if(role==\"CUSTOMER\"){\n          setRedirect(\"/customer/welcome\");\n        }\n      })\n      .catch(error => {\n         \n         console.log(uname)\n        console.log('Something went wrong', error);\n      })\n  }\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const handlesignOut = () => {\n    localStorage.clear();\n  }\n  return (\n    <>\n      <nav className=\"navbar fixed-top navbar-expand-lg navbar-dark bg-black py-3 px-5 fs-5 \">\n        <div className=\"container-fluid\">\n          <Link className=\"navbar-brand\" to={\"/\"}>\n            <img src={logo} alt=\"not found\" width=\"100\" height=\"40\" />\n          </Link>\n          {/* <Link className=\"navbar-brand fs-3\" to={\"/\"}>Event Management System</Link> */}\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarSupportedContent\"\n            aria-controls=\"navbarSupportedContent\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\n            <li className=\"nav-item\">\n                <Link className=\"nav-link\" to={redirect}>\n                  Home\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/services\">\n                  Services\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/packages\">\n                  Packages\n                </Link>\n              </li>\n\n              { uname ?\n                (<li className=\"nav-item dropdown\">\n                  <Link className=\"nav-link dropdown-toggle\" to=\"/\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                  <span><FaUserCircle/>  </span>\n                    {uname}\n                  </Link>\n                  <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                  <li>\n                      <Link className=\"dropdown-item\" to=\"/profile\">\n                        Profile\n                      </Link>\n                    </li>\n                    <li>\n                      <Link className=\"dropdown-item\" to=\"/\" onClick={handlesignOut}>\n                        Sign Out\n                      </Link>\n                    </li>\n                  </ul></li>) : (<li className=\"nav-item\">\n                    <Link className=\"nav-link\" to=\"/customer\" onClick={handlesignOut}>\n                      Sign In\n                    </Link>\n                  </li>)}\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </>\n  );\n};\n\nexport default NavSignOut;\n"]},"metadata":{},"sourceType":"module"}